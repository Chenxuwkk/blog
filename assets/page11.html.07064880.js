import{_ as c,r as i,o,c as t,b as a,e,w as l,d as n,a as p}from"./app.b33ca31f.js";const d={},r=a("h1",{id:"makefile",tabindex:"-1"},[a("a",{class:"header-anchor",href:"#makefile","aria-hidden":"true"},"#"),n(" Makefile")],-1),u=a("hr",null,null,-1),m={class:"table-of-contents"},k=n("makefile\u6982\u8FF0"),v=n("makefile\u7684\u8BED\u6CD5\u89C4\u5219"),b=n("makefile\u7684\u53D8\u91CF"),f=p(`<h2 id="makefile\u6982\u8FF0" tabindex="-1"><a class="header-anchor" href="#makefile\u6982\u8FF0" aria-hidden="true">#</a> makefile\u6982\u8FF0</h2><p><code>make</code> \u662F\u4E2A\u547D\u4EE4\uFF0C\u662F\u4E2A\u53EF\u6267\u884C\u7A0B\u5E8F\uFF0C\u7528\u6765\u89E3\u6790 <code>Makefile</code> \u6587\u4EF6\u7684\u547D\u4EE4</p><p><code>makefile</code> \u662F\u4E2A\u6587\u4EF6\uFF0C\u8FD9\u4E2A\u6587\u4EF6\u4E2D\u63CF\u8FF0\u4E86\u54B1\u4EEC\u7A0B\u5E8F\u7684\u7F16\u8BD1\u89C4\u5219\u3002</p><p><strong>\u91C7\u7528 Makefile \u7684\u597D\u5904\uFF1A</strong></p><ol><li>\u7B80\u5316\u7F16\u8BD1\u7A0B\u5E8F\u7684\u65F6\u5019\u8F93\u5165\u5F97\u547D\u4EE4\uFF0C\u7F16\u8BD1\u7684\u65F6\u5019\u53EA\u9700\u8981\u6572 <code>make</code> \u547D\u4EE4\u5C31\u53EF\u4EE5\u4E86</li><li>\u53EF\u4EE5\u8282\u7701\u7F16\u8BD1\u65F6\u95F4\uFF0C\u63D0\u9AD8\u7F16\u8BD1\u6548\u7387</li></ol><h2 id="makefile\u7684\u8BED\u6CD5\u89C4\u5219" tabindex="-1"><a class="header-anchor" href="#makefile\u7684\u8BED\u6CD5\u89C4\u5219" aria-hidden="true">#</a> makefile\u7684\u8BED\u6CD5\u89C4\u5219</h2><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>\u76EE\u6807:\u4F9D\u8D56\u6587\u4EF6
    \u547D\u4EE4\u5217\u8868
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>\u76EE\u6807\uFF1A\u5C31\u662F\u9700\u8981\u751F\u6210\u7684\u6587\u4EF6</p><p>\u4F9D\u8D56\u6587\u4EF6\uFF1A\u901A\u8FC7\u4F9D\u8D56\u6587\u4EF6 \u751F\u6210 \u76EE\u6807\u6587\u4EF6</p><p>\u547D\u4EE4\u5217\u8868\uFF1A\u5B9E\u73B0 \u5C06\u4F9D\u8D56\u6587\u4EF6 \u751F\u6210 \u76EE\u6807\u6587\u4EF6</p><div class="language-makefile ext-makefile line-numbers-mode"><pre class="language-makefile"><code><span class="token target symbol">main</span><span class="token punctuation">:</span>a.c b.c c.c
    gcc a.c b.c c.c \u2010o main
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p><code>make</code> \u9ED8\u8BA4\u5728\u5DE5\u4F5C\u76EE\u5F55\u4E2D\u5BFB\u627E\u540D\u4E3A <code>GNUmakefile</code>\u3001<code>makefile</code>\u3001<code>Makefile</code> \u7684\u6587\u4EF6\u4F5C\u4E3A<code>makefile</code> \u8F93\u5165\u6587\u4EF6</p><p><code>make -f</code> \u81EA\u5B9A\u4E49<code>makefile</code>\u6587\u4EF6\u540D</p><p><code>make</code> \u5DE5\u5177\u9ED8\u8BA4\u4F1A\u5B9E\u73B0 <code>makefile</code> \u6587\u4EF6\u5185\u7684\u7B2C\u4E00\u4E2A\u76EE\u6807\u3002</p><p><code>make</code> \u76EE\u6807 -----&gt;\u9009\u62E9\u76EE\u6807\u6267\u884C</p><h2 id="makefile\u7684\u53D8\u91CF" tabindex="-1"><a class="header-anchor" href="#makefile\u7684\u53D8\u91CF" aria-hidden="true">#</a> makefile\u7684\u53D8\u91CF</h2><ol><li>\u81EA\u5B9A\u4E49\u53D8\u91CF</li></ol><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>\u53D8\u91CF\u540D=\u53D8\u91CF\u503C
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>\u5F15\u7528\u53D8\u91CF\uFF1A <code>$(\u53D8\u91CF\u540D)</code>\u6216<code>\${\u53D8\u91CF\u540D}</code></p><div class="language-makefile ext-makefile line-numbers-mode"><pre class="language-makefile"><code>cc<span class="token operator">=</span>gcc
exec<span class="token operator">=</span>main
obj<span class="token operator">=</span>main.o fun.o
<span class="token target symbol"><span class="token variable">$</span>(exec)</span><span class="token punctuation">:</span><span class="token variable">$</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span>
    <span class="token variable">$</span><span class="token punctuation">(</span>cc<span class="token punctuation">)</span> <span class="token variable">$</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span> \u2010o <span class="token variable">$</span><span class="token punctuation">(</span>exec<span class="token punctuation">)</span>
<span class="token target symbol">main.o</span><span class="token punctuation">:</span>main.c
    <span class="token variable">$</span><span class="token punctuation">(</span>cc<span class="token punctuation">)</span> \u2010c main.c \u2010o main.o
<span class="token target symbol">fun.o</span><span class="token punctuation">:</span>fun.c
    <span class="token variable">$</span><span class="token punctuation">(</span>cc<span class="token punctuation">)</span> \u2010c fun.c \u2010o fun.o
<span class="token target symbol">clean</span><span class="token punctuation">:</span>
    rm *.o <span class="token variable">$</span><span class="token punctuation">(</span>exec<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="2"><li>\u7CFB\u7EDF\u73AF\u5883\u53D8\u91CF</li></ol><p><code>make</code> \u53EF\u4EE5\u8BC6\u522B\u7CFB\u7EDF\u73AF\u5883\u53D8\u91CF\uFF0C\u5728 <code>makefile</code> \u4E2D\u53EF\u76F4\u63A5\u8BFB\u53D6\u6216\u4FEE\u6539\u62F7\u8D1D\u540E\u7684\u53D8\u91CF\u3002</p><p>\u67E5\u770B\u73AF\u5883\u53D8\u91CF\uFF1A<code>env</code></p><ol start="3"><li>\u9884\u5B9A\u4E49\u53D8\u91CF</li></ol><p><code>makefile</code> \u4E2D\u6709\u8BB8\u591A\u9884\u5B9A\u4E49\u53D8\u91CF\uFF0C\u8FD9\u4E9B\u53D8\u91CF\u5177\u6709\u7279\u6B8A\u7684\u542B\u4E49\uFF0C\u53EF\u5728 <code>makefile</code> \u4E2D\u76F4\u63A5\u4F7F\u7528\u3002</p><div class="language-makefile ext-makefile line-numbers-mode"><pre class="language-makefile"><code><span class="token variable">$@</span> <span class="token comment">#\u76EE\u6807\u540D</span>
<span class="token variable">$&lt;</span> <span class="token comment">#\u4F9D\u8D56\u6587\u4EF6\u5217\u8868\u4E2D\u7684\u7B2C\u4E00\u4E2A\u6587\u4EF6</span>
<span class="token variable">$^</span> <span class="token comment">#\u4F9D\u8D56\u6587\u4EF6\u5217\u8868\u4E2D\u9664\u53BB\u91CD\u590D\u6587\u4EF6\u7684\u90E8\u5206</span>
AR <span class="token comment">#\u5F52\u6863\u7EF4\u62A4\u7A0B\u5E8F\u7684\u7A0B\u5E8F\u540D\uFF0C\u9ED8\u8BA4\u503C\u4E3A ar</span>
ARFLAGS <span class="token comment">#\u5F52\u6863\u7EF4\u62A4\u7A0B\u5E8F\u7684\u9009\u9879</span>
AS <span class="token comment">#\u6C47\u7F16\u7A0B\u5E8F\u7684\u540D\u79F0\uFF0C\u9ED8\u8BA4\u503C\u4E3A as</span>
ASFLAGS <span class="token comment">#\u6C47\u7F16\u7A0B\u5E8F\u7684\u9009\u9879</span>
CC C <span class="token comment">#\u7F16\u8BD1\u5668\u7684\u540D\u79F0\uFF0C\u9ED8\u8BA4\u503C\u4E3A cc</span>
CFLAGS C <span class="token comment">#\u7F16\u8BD1\u5668\u7684\u9009\u9879</span>
CPP C <span class="token comment">#\u9884\u7F16\u8BD1\u5668\u7684\u540D\u79F0\uFF0C\u9ED8\u8BA4\u503C\u4E3A$(CC) -E</span>
CPPFLAGS C <span class="token comment">#\u9884\u7F16\u8BD1\u7684\u9009\u9879</span>
CXX <span class="token comment">#C++\u7F16\u8BD1\u5668\u7684\u540D\u79F0\uFF0C\u9ED8\u8BA4\u503C\u4E3A g++</span>
CXXFLAGS <span class="token comment">#C++\u7F16\u8BD1\u5668\u7684\u9009\u9879</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>makefile</code>\u6A21\u677F</p><div class="language-makefile ext-makefile line-numbers-mode"><pre class="language-makefile"><code>cc<span class="token operator">=</span>gcc
exec<span class="token operator">=</span>main
obj<span class="token operator">=</span>main.o fun.o
flags<span class="token operator">=</span>\u2010Wall <span class="token comment">#\u8B66\u544A\u7B49\u7EA7</span>
<span class="token target symbol"><span class="token variable">$</span>(exec)</span><span class="token punctuation">:</span><span class="token variable">$</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span>
    <span class="token variable">$</span><span class="token punctuation">(</span>cc<span class="token punctuation">)</span> <span class="token variable">$^</span> \u2010o <span class="token variable">$@</span> <span class="token variable">$</span><span class="token punctuation">(</span>flags<span class="token punctuation">)</span>
<span class="token target symbol">%.o</span><span class="token punctuation">:</span>%.c <span class="token comment">#\u81EA\u52A8\u5339\u914D.c .o</span>
    <span class="token variable">$</span><span class="token punctuation">(</span>cc<span class="token punctuation">)</span> \u2010c <span class="token variable">$&lt;</span> \u2010o <span class="token variable">$@</span> <span class="token variable">$</span><span class="token punctuation">(</span>flags<span class="token punctuation">)</span>

<span class="token target symbol">clean</span><span class="token punctuation">:</span>
    rm <span class="token variable">$</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span> <span class="token variable">$</span><span class="token punctuation">(</span>exec<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,28);function g(h,_){const s=i("RouterLink");return o(),t("div",null,[r,u,a("nav",m,[a("ul",null,[a("li",null,[e(s,{to:"#makefile\u6982\u8FF0"},{default:l(()=>[k]),_:1})]),a("li",null,[e(s,{to:"#makefile\u7684\u8BED\u6CD5\u89C4\u5219"},{default:l(()=>[v]),_:1})]),a("li",null,[e(s,{to:"#makefile\u7684\u53D8\u91CF"},{default:l(()=>[b]),_:1})])])]),f])}var $=c(d,[["render",g],["__file","page11.html.vue"]]);export{$ as default};
