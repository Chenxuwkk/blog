import{_ as p,r as i,o,c as l,b as n,e,w as t,d as s,a as c}from"./app.b33ca31f.js";const u={},r=n("h1",{id:"\u4EE3\u7801\u590D\u73B0\u95EE\u9898",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#\u4EE3\u7801\u590D\u73B0\u95EE\u9898","aria-hidden":"true"},"#"),s(" \u4EE3\u7801\u590D\u73B0\u95EE\u9898")],-1),d=n("hr",null,null,-1),k={class:"table-of-contents"},v=s("C\u8BED\u8A00\u95EE\u9898"),m=s("Linux\u5DE5\u5177"),b=s("\u4F7F\u7528 pip \u51FA\u73B0 Script file \u2018D:\\Anaconda3\\Scripts\\pip-script.py\u2018 is not present \u9519\u8BEF\u89E3\u51B3\u529E\u6CD5"),_=s("pyinstaller\u6253\u5305exe\u6587\u4EF6\u540E\uFF0Cexe\u8FD0\u884C\u62A5\u9519\u627E\u4E0D\u5230xx\u6A21\u5757"),h=s("k-net\u62A5\u9519\u5408\u96C6"),g=s("\u670D\u52A1\u5668\u8FDC\u7A0B\u8FDEjupyter\u548Ctensorboard"),f=c(`<h3 id="c\u8BED\u8A00\u95EE\u9898" tabindex="-1"><a class="header-anchor" href="#c\u8BED\u8A00\u95EE\u9898" aria-hidden="true">#</a> C\u8BED\u8A00\u95EE\u9898</h3><ol><li><p>c\u8BED\u8A00\u9759\u6001\u53D8\u91CF\u7684\u58F0\u660E\u653E\u5230\u6240\u6709\u53D8\u91CF\u4E4B\u524D\uFF0C\u5426\u5219\u4F1A\u62A5\u9519</p></li><li><p>\u4E2D\u65AD\u51FD\u6570\u5934\u6587\u4EF6\u4E0D\u9700\u8981\u58F0\u660E</p></li></ol><h3 id="linux\u5DE5\u5177" tabindex="-1"><a class="header-anchor" href="#linux\u5DE5\u5177" aria-hidden="true">#</a> Linux\u5DE5\u5177</h3><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token comment">#tree\u8F93\u51FA\u6307\u4EE4</span>
tree
tree /f 
tree /a
<span class="token comment">#screen</span>
-S
-r
Ctrl+A+D
Ctrl+A+<span class="token punctuation">[</span>
Ctrl+C
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="\u4F7F\u7528-pip-\u51FA\u73B0-script-file-d-anaconda3-scripts-pip-script-py-is-not-present-\u9519\u8BEF\u89E3\u51B3\u529E\u6CD5" tabindex="-1"><a class="header-anchor" href="#\u4F7F\u7528-pip-\u51FA\u73B0-script-file-d-anaconda3-scripts-pip-script-py-is-not-present-\u9519\u8BEF\u89E3\u51B3\u529E\u6CD5" aria-hidden="true">#</a> \u4F7F\u7528 pip \u51FA\u73B0 Script file \u2018D:\\Anaconda3\\Scripts\\pip-script.py\u2018 is not present \u9519\u8BEF\u89E3\u51B3\u529E\u6CD5</h3><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>python -m ensurepip
python -m pip <span class="token function">install</span> 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="pyinstaller\u6253\u5305exe\u6587\u4EF6\u540E-exe\u8FD0\u884C\u62A5\u9519\u627E\u4E0D\u5230xx\u6A21\u5757" tabindex="-1"><a class="header-anchor" href="#pyinstaller\u6253\u5305exe\u6587\u4EF6\u540E-exe\u8FD0\u884C\u62A5\u9519\u627E\u4E0D\u5230xx\u6A21\u5757" aria-hidden="true">#</a> pyinstaller\u6253\u5305exe\u6587\u4EF6\u540E\uFF0Cexe\u8FD0\u884C\u62A5\u9519\u627E\u4E0D\u5230xx\u6A21\u5757</h3><p>https://blog.csdn.net/ldg513783697/article/details/119762461</p><p>\u6211\u7684\u65B9\u6CD5\uFF1A\u5C06\u5305\u5B89\u88C5\u5230\u6307\u5B9A\u76EE\u5F55</p><h3 id="k-net\u62A5\u9519\u5408\u96C6" tabindex="-1"><a class="header-anchor" href="#k-net\u62A5\u9519\u5408\u96C6" aria-hidden="true">#</a> k-net\u62A5\u9519\u5408\u96C6</h3><h4 id="\u8DEF\u5F84\u95EE\u9898" tabindex="-1"><a class="header-anchor" href="#\u8DEF\u5F84\u95EE\u9898" aria-hidden="true">#</a> \u8DEF\u5F84\u95EE\u9898</h4><p>\u8DEF\u5F84\u4EE5\u5F53\u524D\u6587\u4EF6\u5939\u6839\u76EE\u5F55\uFF0C\u4F8B\u5982\u5F53\u524D\u6587\u4EF6\u76EE\u5F55\u4E3A\uFF1A</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>/home/ubuntu/home/cx/models/knet/configs
<span class="token comment"># tree:</span>
\u251C\u2500\u2500 det
\u2502   \u251C\u2500\u2500 _base_
\u2502   \u2502   \u251C\u2500\u2500 datasets
\u2502   \u2502   \u251C\u2500\u2500 default_runtime.py
\u2502   \u2502   \u251C\u2500\u2500 models
\u2502   \u2502   \u2514\u2500\u2500 schedules
\u2502   \u251C\u2500\u2500 common
\u2502   \u2502   \u251C\u2500\u2500 mstrain_3x_coco_instance.py
\u2502   \u2502   \u2514\u2500\u2500 mstrain_3x_coco_panoptic.py
\u2502   \u2514\u2500\u2500 knet
\u2502       \u251C\u2500\u2500 knet_s3_r101_dcn-c3-c5_fpn_ms-3x_coco-panoptic.py
\u2502       \u251C\u2500\u2500 knet_s3_r101_dcn-c3-c5_fpn_ms-3x_coco.py
\u2502       \u251C\u2500\u2500 knet_s3_r101_fpn_ms-3x_coco-panoptic.py
\u2502       \u251C\u2500\u2500 knet_s3_r101_fpn_ms-3x_coco.py
\u2502       \u251C\u2500\u2500 knet_s3_r50_fpn_1x_coco-panoptic.py
\u2502       \u251C\u2500\u2500 knet_s3_r50_fpn_1x_coco.py
\u2502       \u251C\u2500\u2500 knet_s3_r50_fpn_ms-3x_coco-panoptic.py
\u2502       \u251C\u2500\u2500 knet_s3_r50_fpn_ms-3x_coco.py
\u2502       \u2514\u2500\u2500 knet_s3_swin-l_fpn_ms-3x_16x2_coco-panoptic.py
\u2514\u2500\u2500 seg
    \u251C\u2500\u2500 _base_
    \u2502   \u251C\u2500\u2500 custom_import.py
    \u2502   \u251C\u2500\u2500 datasets
    \u2502   \u251C\u2500\u2500 default_runtime.py
    \u2502   \u251C\u2500\u2500 models
    \u2502   \u2514\u2500\u2500 schedules
    \u251C\u2500\u2500 baselines
    \u2502   \u251C\u2500\u2500 deeplabv3_r50-d8_512x512_80k_8x2_adamw_ade20k.py
    \u2502   \u251C\u2500\u2500 fcn_r50-d8_512x512_80k_8x2_adamw_ade20k.py
    \u2502   \u251C\u2500\u2500 pspnet_r50-d8_512x512_80k_8x2_adamw_ade20k.py
    \u2502   \u2514\u2500\u2500 upernet_r50_512x512_80k_8x2_adamw_ade20k.py
    \u2514\u2500\u2500 knet
        \u251C\u2500\u2500 knet_s3_deeplabv3_r50-d8_80k_adamw_ade20k.py
        \u251C\u2500\u2500 knet_s3_fcn_r50-d8_80k_adamw_ade20k.py
        \u251C\u2500\u2500 knet_s3_pspnet_r50-d8_80k_adamw_ade20k.py
        \u251C\u2500\u2500 knet_s3_upernet_r50-d8_80k_adamw_ade20k.py
        \u251C\u2500\u2500 knet_s3_upernet_swin-l_80k_adamw_640x640_ade20k.py
        \u251C\u2500\u2500 knet_s3_upernet_swin-l_80k_adamw_ade20k.py
        \u2514\u2500\u2500 knet_s3_upernet_swin-t_80k_adamw_ade20k.py
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u6B64\u65F6<code>knet_s3_r101_dcn-c3-c5_fpn_ms-3x_coco-panoptic.py</code>\u8DEF\u5F84\u4E3A<code>/det/kent/knet_s3_r101_dcn-c3-c5_fpn_ms-3x_coco-panoptic.py</code></p><h4 id="openmmlab\u7248\u672C\u95EE\u9898" tabindex="-1"><a class="header-anchor" href="#openmmlab\u7248\u672C\u95EE\u9898" aria-hidden="true">#</a> OpenMMlab\u7248\u672C\u95EE\u9898</h4><p>\u4E25\u683C\u6309\u7167\u8981\u6C42\u6765\uFF1A</p><ul><li>MIM &gt;= 0.1.5</li><li>MMCV-full &gt;= v1.3.14</li><li>MMDetection &gt;= v2.17.0</li><li>MMSegmentation &gt;= v0.18.0</li></ul><p>\u7248\u672C\u4E0D\u5BF9\u4F1A\u51FA\u73B0\uFF1A</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>KeyError: <span class="token string">&#39;MaskPseudoSampler is already registered in bbox_sampler&#39;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>\u89E3\u51B3\u65B9\u5F0F\uFF1A</p><ol><li>\u8C03\u6574\u7248\u672C</li><li>\u5728\u6CE8\u518C<code>model</code>\u6A21\u5757\u6DFB\u52A0<code>name=\u2018xxx\u2019,force=True</code></li></ol><h4 id="\u5BFC\u5165\u95EE\u9898" tabindex="-1"><a class="header-anchor" href="#\u5BFC\u5165\u95EE\u9898" aria-hidden="true">#</a> \u5BFC\u5165\u95EE\u9898</h4><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>KeyError: <span class="token string">&#39;KNet is not in the models registry&#39;</span> when runing <span class="token string">&#39;train.py&#39;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>\u6587\u4EF6\u6CA1\u6709\u6B63\u786E\u5BFC\u5165\u3002</p><p>\u89E3\u51B3\u65B9\u5F0F\uFF1A</p><p>\u67E5\u770Bk-net\u6587\u4EF6\u662F\u5426\u4E3A\u7A7A\uFF0C\u672C\u5730\u548C\u670D\u52A1\u5668\u4EE3\u7801\u662F\u5426\u4FDD\u6301\u4E00\u81F4\uFF08\u6682\u4E0D\u6E05\u695A\u4E3A\u4F55\u4F1A\u6587\u4EF6\u4E3A\u7A7A\uFF09</p><h4 id="pytroch1-8\u95EE\u9898" tabindex="-1"><a class="header-anchor" href="#pytroch1-8\u95EE\u9898" aria-hidden="true">#</a> Pytroch1.8\u95EE\u9898</h4><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>UnboundLocalError: <span class="token builtin class-name">local</span> variable \u2018beta1\u2018 referenced before assignment\uFF08adamw.py\uFF09
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>\u5728\u8C03\u7528adamw\u4F18\u5316\u5668\u62A5\u9519\uFF0C\u53D1\u73B0\u662Fpytoch1.8\u4E2D\u7684adamw\u6E90\u7801\u5199\u9519\u4E86\uFF0Cpytorch\u5B98\u65B9\u57281.9\u7248\u672C\u4E2D\u4FEE\u590D\u4E86\u8FD9\u4E2A\u9519\u8BEF\uFF0C\u6240\u4EE5\u76F4\u63A5\u75281.9\u4E2D\u7684\u4EE3\u7801\u66FF\u6362\u6389\u5C31\u884C</p><p>\u8DEF\u5F84<code> /home/djy/anaconda3/envs/petr/lib/python3.8/site-packages/torch/optim/adamw.py</code></p><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token keyword">import</span> torch
<span class="token keyword">from</span> <span class="token punctuation">.</span> <span class="token keyword">import</span> _functional <span class="token keyword">as</span> F
<span class="token keyword">from</span> <span class="token punctuation">.</span>optimizer <span class="token keyword">import</span> Optimizer
 
 
<span class="token keyword">class</span> <span class="token class-name">AdamW</span><span class="token punctuation">(</span>Optimizer<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">r&quot;&quot;&quot;Implements AdamW algorithm.
    The original Adam algorithm was proposed in \`Adam: A Method for Stochastic Optimization\`_.
    The AdamW variant was proposed in \`Decoupled Weight Decay Regularization\`_.
    Args:
        params (iterable): iterable of parameters to optimize or dicts defining
            parameter groups
        lr (float, optional): learning rate (default: 1e-3)
        betas (Tuple[float, float], optional): coefficients used for computing
            running averages of gradient and its square (default: (0.9, 0.999))
        eps (float, optional): term added to the denominator to improve
            numerical stability (default: 1e-8)
        weight_decay (float, optional): weight decay coefficient (default: 1e-2)
        amsgrad (boolean, optional): whether to use the AMSGrad variant of this
            algorithm from the paper \`On the Convergence of Adam and Beyond\`_
            (default: False)
    .. _Adam\\: A Method for Stochastic Optimization:
        https://arxiv.org/abs/1412.6980
    .. _Decoupled Weight Decay Regularization:
        https://arxiv.org/abs/1711.05101
    .. _On the Convergence of Adam and Beyond:
        https://openreview.net/forum?id=ryQu7f-RZ
    &quot;&quot;&quot;</span>
 
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> params<span class="token punctuation">,</span> lr<span class="token operator">=</span><span class="token number">1e-3</span><span class="token punctuation">,</span> betas<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">0.9</span><span class="token punctuation">,</span> <span class="token number">0.999</span><span class="token punctuation">)</span><span class="token punctuation">,</span> eps<span class="token operator">=</span><span class="token number">1e-8</span><span class="token punctuation">,</span>
                 weight_decay<span class="token operator">=</span><span class="token number">1e-2</span><span class="token punctuation">,</span> amsgrad<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">if</span> <span class="token keyword">not</span> <span class="token number">0.0</span> <span class="token operator">&lt;=</span> lr<span class="token punctuation">:</span>
            <span class="token keyword">raise</span> ValueError<span class="token punctuation">(</span><span class="token string">&quot;Invalid learning rate: {}&quot;</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>lr<span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token keyword">if</span> <span class="token keyword">not</span> <span class="token number">0.0</span> <span class="token operator">&lt;=</span> eps<span class="token punctuation">:</span>
            <span class="token keyword">raise</span> ValueError<span class="token punctuation">(</span><span class="token string">&quot;Invalid epsilon value: {}&quot;</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>eps<span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token keyword">if</span> <span class="token keyword">not</span> <span class="token number">0.0</span> <span class="token operator">&lt;=</span> betas<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">&lt;</span> <span class="token number">1.0</span><span class="token punctuation">:</span>
            <span class="token keyword">raise</span> ValueError<span class="token punctuation">(</span><span class="token string">&quot;Invalid beta parameter at index 0: {}&quot;</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>betas<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token keyword">if</span> <span class="token keyword">not</span> <span class="token number">0.0</span> <span class="token operator">&lt;=</span> betas<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">&lt;</span> <span class="token number">1.0</span><span class="token punctuation">:</span>
            <span class="token keyword">raise</span> ValueError<span class="token punctuation">(</span><span class="token string">&quot;Invalid beta parameter at index 1: {}&quot;</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>betas<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token keyword">if</span> <span class="token keyword">not</span> <span class="token number">0.0</span> <span class="token operator">&lt;=</span> weight_decay<span class="token punctuation">:</span>
            <span class="token keyword">raise</span> ValueError<span class="token punctuation">(</span><span class="token string">&quot;Invalid weight_decay value: {}&quot;</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>weight_decay<span class="token punctuation">)</span><span class="token punctuation">)</span>
        defaults <span class="token operator">=</span> <span class="token builtin">dict</span><span class="token punctuation">(</span>lr<span class="token operator">=</span>lr<span class="token punctuation">,</span> betas<span class="token operator">=</span>betas<span class="token punctuation">,</span> eps<span class="token operator">=</span>eps<span class="token punctuation">,</span>
                        weight_decay<span class="token operator">=</span>weight_decay<span class="token punctuation">,</span> amsgrad<span class="token operator">=</span>amsgrad<span class="token punctuation">)</span>
        <span class="token builtin">super</span><span class="token punctuation">(</span>AdamW<span class="token punctuation">,</span> self<span class="token punctuation">)</span><span class="token punctuation">.</span>__init__<span class="token punctuation">(</span>params<span class="token punctuation">,</span> defaults<span class="token punctuation">)</span>
 
    <span class="token keyword">def</span> <span class="token function">__setstate__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> state<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token builtin">super</span><span class="token punctuation">(</span>AdamW<span class="token punctuation">,</span> self<span class="token punctuation">)</span><span class="token punctuation">.</span>__setstate__<span class="token punctuation">(</span>state<span class="token punctuation">)</span>
        <span class="token keyword">for</span> group <span class="token keyword">in</span> self<span class="token punctuation">.</span>param_groups<span class="token punctuation">:</span>
            group<span class="token punctuation">.</span>setdefault<span class="token punctuation">(</span><span class="token string">&#39;amsgrad&#39;</span><span class="token punctuation">,</span> <span class="token boolean">False</span><span class="token punctuation">)</span>
 
    <span class="token decorator annotation punctuation">@torch<span class="token punctuation">.</span>no_grad</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">def</span> <span class="token function">step</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> closure<span class="token operator">=</span><span class="token boolean">None</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">&quot;&quot;&quot;Performs a single optimization step.
        Args:
            closure (callable, optional): A closure that reevaluates the model
                and returns the loss.
        &quot;&quot;&quot;</span>
        loss <span class="token operator">=</span> <span class="token boolean">None</span>
        <span class="token keyword">if</span> closure <span class="token keyword">is</span> <span class="token keyword">not</span> <span class="token boolean">None</span><span class="token punctuation">:</span>
            <span class="token keyword">with</span> torch<span class="token punctuation">.</span>enable_grad<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
                loss <span class="token operator">=</span> closure<span class="token punctuation">(</span><span class="token punctuation">)</span>
 
        <span class="token keyword">for</span> group <span class="token keyword">in</span> self<span class="token punctuation">.</span>param_groups<span class="token punctuation">:</span>
            params_with_grad <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
            grads <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
            exp_avgs <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
            exp_avg_sqs <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
            state_sums <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
            max_exp_avg_sqs <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
            state_steps <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
            amsgrad <span class="token operator">=</span> group<span class="token punctuation">[</span><span class="token string">&#39;amsgrad&#39;</span><span class="token punctuation">]</span>
            beta1<span class="token punctuation">,</span> beta2 <span class="token operator">=</span> group<span class="token punctuation">[</span><span class="token string">&#39;betas&#39;</span><span class="token punctuation">]</span>
 
            <span class="token keyword">for</span> p <span class="token keyword">in</span> group<span class="token punctuation">[</span><span class="token string">&#39;params&#39;</span><span class="token punctuation">]</span><span class="token punctuation">:</span>
                <span class="token keyword">if</span> p<span class="token punctuation">.</span>grad <span class="token keyword">is</span> <span class="token boolean">None</span><span class="token punctuation">:</span>
                    <span class="token keyword">continue</span>
                params_with_grad<span class="token punctuation">.</span>append<span class="token punctuation">(</span>p<span class="token punctuation">)</span>
                <span class="token keyword">if</span> p<span class="token punctuation">.</span>grad<span class="token punctuation">.</span>is_sparse<span class="token punctuation">:</span>
                    <span class="token keyword">raise</span> RuntimeError<span class="token punctuation">(</span><span class="token string">&#39;AdamW does not support sparse gradients&#39;</span><span class="token punctuation">)</span>
                grads<span class="token punctuation">.</span>append<span class="token punctuation">(</span>p<span class="token punctuation">.</span>grad<span class="token punctuation">)</span>
 
                state <span class="token operator">=</span> self<span class="token punctuation">.</span>state<span class="token punctuation">[</span>p<span class="token punctuation">]</span>
 
                <span class="token comment"># State initialization</span>
                <span class="token keyword">if</span> <span class="token builtin">len</span><span class="token punctuation">(</span>state<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">:</span>
                    state<span class="token punctuation">[</span><span class="token string">&#39;step&#39;</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span>
                    <span class="token comment"># Exponential moving average of gradient values</span>
                    state<span class="token punctuation">[</span><span class="token string">&#39;exp_avg&#39;</span><span class="token punctuation">]</span> <span class="token operator">=</span> torch<span class="token punctuation">.</span>zeros_like<span class="token punctuation">(</span>p<span class="token punctuation">,</span> memory_format<span class="token operator">=</span>torch<span class="token punctuation">.</span>preserve_format<span class="token punctuation">)</span>
                    <span class="token comment"># Exponential moving average of squared gradient values</span>
                    state<span class="token punctuation">[</span><span class="token string">&#39;exp_avg_sq&#39;</span><span class="token punctuation">]</span> <span class="token operator">=</span> torch<span class="token punctuation">.</span>zeros_like<span class="token punctuation">(</span>p<span class="token punctuation">,</span> memory_format<span class="token operator">=</span>torch<span class="token punctuation">.</span>preserve_format<span class="token punctuation">)</span>
                    <span class="token keyword">if</span> amsgrad<span class="token punctuation">:</span>
                        <span class="token comment"># Maintains max of all exp. moving avg. of sq. grad. values</span>
                        state<span class="token punctuation">[</span><span class="token string">&#39;max_exp_avg_sq&#39;</span><span class="token punctuation">]</span> <span class="token operator">=</span> torch<span class="token punctuation">.</span>zeros_like<span class="token punctuation">(</span>p<span class="token punctuation">,</span> memory_format<span class="token operator">=</span>torch<span class="token punctuation">.</span>preserve_format<span class="token punctuation">)</span>
 
                exp_avgs<span class="token punctuation">.</span>append<span class="token punctuation">(</span>state<span class="token punctuation">[</span><span class="token string">&#39;exp_avg&#39;</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
                exp_avg_sqs<span class="token punctuation">.</span>append<span class="token punctuation">(</span>state<span class="token punctuation">[</span><span class="token string">&#39;exp_avg_sq&#39;</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
 
                <span class="token keyword">if</span> amsgrad<span class="token punctuation">:</span>
                    max_exp_avg_sqs<span class="token punctuation">.</span>append<span class="token punctuation">(</span>state<span class="token punctuation">[</span><span class="token string">&#39;max_exp_avg_sq&#39;</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
 
                <span class="token comment"># update the steps for each param group update</span>
                state<span class="token punctuation">[</span><span class="token string">&#39;step&#39;</span><span class="token punctuation">]</span> <span class="token operator">+=</span> <span class="token number">1</span>
                <span class="token comment"># record the step after step update</span>
                state_steps<span class="token punctuation">.</span>append<span class="token punctuation">(</span>state<span class="token punctuation">[</span><span class="token string">&#39;step&#39;</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
 
            F<span class="token punctuation">.</span>adamw<span class="token punctuation">(</span>params_with_grad<span class="token punctuation">,</span>
                    grads<span class="token punctuation">,</span>
                    exp_avgs<span class="token punctuation">,</span>
                    exp_avg_sqs<span class="token punctuation">,</span>
                    max_exp_avg_sqs<span class="token punctuation">,</span>
                    state_steps<span class="token punctuation">,</span>
                    amsgrad<span class="token operator">=</span>amsgrad<span class="token punctuation">,</span>
                    beta1<span class="token operator">=</span>beta1<span class="token punctuation">,</span>
                    beta2<span class="token operator">=</span>beta2<span class="token punctuation">,</span>
                    lr<span class="token operator">=</span>group<span class="token punctuation">[</span><span class="token string">&#39;lr&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
                    weight_decay<span class="token operator">=</span>group<span class="token punctuation">[</span><span class="token string">&#39;weight_decay&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
                    eps<span class="token operator">=</span>group<span class="token punctuation">[</span><span class="token string">&#39;eps&#39;</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
 
        <span class="token keyword">return</span> loss
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="\u670D\u52A1\u5668\u8FDC\u7A0B\u8FDEjupyter\u548Ctensorboard" tabindex="-1"><a class="header-anchor" href="#\u670D\u52A1\u5668\u8FDC\u7A0B\u8FDEjupyter\u548Ctensorboard" aria-hidden="true">#</a> \u670D\u52A1\u5668\u8FDC\u7A0B\u8FDEjupyter\u548Ctensorboard</h3><p>\u53C2\u8003\uFF1Ahttps://blog.csdn.net/weixin_40641725/article/details/114636779</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>C:<span class="token punctuation">\\</span>Users<span class="token punctuation">\\</span>Chenxuwkk<span class="token operator">&gt;</span>ssh -N -f -L localhost:8888:localhost:6006 ubuntu@183.175.12.100 -p <span class="token number">9051</span>
<span class="token comment">#\u672C\u5730\u5F008888 \u8FDC\u7A0B6006</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div>`,34);function y(x,w){const a=i("RouterLink");return o(),l("div",null,[r,d,n("nav",k,[n("ul",null,[n("li",null,[e(a,{to:"#c\u8BED\u8A00\u95EE\u9898"},{default:t(()=>[v]),_:1})]),n("li",null,[e(a,{to:"#linux\u5DE5\u5177"},{default:t(()=>[m]),_:1})]),n("li",null,[e(a,{to:"#\u4F7F\u7528-pip-\u51FA\u73B0-script-file-d-anaconda3-scripts-pip-script-py-is-not-present-\u9519\u8BEF\u89E3\u51B3\u529E\u6CD5"},{default:t(()=>[b]),_:1})]),n("li",null,[e(a,{to:"#pyinstaller\u6253\u5305exe\u6587\u4EF6\u540E-exe\u8FD0\u884C\u62A5\u9519\u627E\u4E0D\u5230xx\u6A21\u5757"},{default:t(()=>[_]),_:1})]),n("li",null,[e(a,{to:"#k-net\u62A5\u9519\u5408\u96C6"},{default:t(()=>[h]),_:1})]),n("li",null,[e(a,{to:"#\u670D\u52A1\u5668\u8FDC\u7A0B\u8FDEjupyter\u548Ctensorboard"},{default:t(()=>[g]),_:1})])])]),f])}var A=p(u,[["render",y],["__file","page05.html.vue"]]);export{A as default};
